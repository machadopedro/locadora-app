(this["webpackJsonplocadora-app"]=this["webpackJsonplocadora-app"]||[]).push([[0],{181:function(e,a,t){e.exports=t(310)},186:function(e,a,t){},188:function(e,a,t){},310:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(42),c=t.n(r),o=(t(186),t(59)),u=t.n(o),s=t(105),m=t(27),i=(t(188),t(23)),p=t(37),E=t(323),d=t(322),f=t(321),b=t(320),h="https://4wordg1lp0.execute-api.us-east-1.amazonaws.com",g="https://ef41asg6e4.execute-api.us-east-1.amazonaws.com";function v(e){var a=e.user;return console.log(a),l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.b,{exact:!0,activeClassName:"current",to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(i.b,{exact:!0,activeClassName:"current",to:"/about"},"About")),l.a.createElement("li",null,l.a.createElement(i.b,{exact:!0,activeClassName:"current",to:"/contact"},"Contact")),l.a.createElement("li",{className:"user-item"},l.a.createElement("p",{className:"user-name"},a.name))))}function j(e){var a=e.setCar,t=e.cars;return l.a.createElement("div",null,l.a.createElement(E.a,{className:"car-list"},t.map((function(e){return l.a.createElement(E.a.Item,{key:e.model},l.a.createElement("div",{className:"car-item"},e.model,l.a.createElement(i.b,{className:"button-alugar",to:"/loan",car:e,onClick:function(){return a(e)}},"Alugar")))}))))}function _(e){var a=e.setCar,t=Object(n.useState)([]),r=Object(m.a)(t,2),c=r[0],o=r[1];return console.log("Backpath is "+h),Object(n.useEffect)((function(){fetch(h+"/available_cars").then((function(e){return e.json()})).then((function(e){console.log(e),o(e.cars)}))}),[]),l.a.createElement("div",null,l.a.createElement("p",null,"Lista de carros"),l.a.createElement("br",null),l.a.createElement(j,{setCar:a,cars:c}))}function C(){return l.a.createElement("div",null,l.a.createElement("p",null,"Obrigado por alugar conosco!"))}function O(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),o=Object(m.a)(c,2),p=o[0],E=o[1];function b(){return(b=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/add_client_by_get?name="+t+"&cpf="+p);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement(d.a.Field,null,l.a.createElement(f.a,{placeholder:"CPF",value:p,onChange:function(e){return E(e.target.value)}})),l.a.createElement(d.a.Field,null,l.a.createElement(f.a,{placeholder:"Nome",value:t,onChange:function(e){return r(e.target.value)}})),l.a.createElement(d.a.Field,null,l.a.createElement(i.b,{className:"button-geral",to:"/login",onClick:function(){return b.apply(this,arguments)}},"Sign Up"))))}function k(e){var a=e.setUser,t=Object(n.useState)(0),r=Object(m.a)(t,2),c=r[0],o=r[1];return l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement(d.a.Field,null,l.a.createElement(f.a,{placeholder:"CPF",value:c,onChange:function(e){return o(e.target.value)}})),l.a.createElement(d.a.Field,null,l.a.createElement(i.b,{className:"button-geral",to:"/",onClick:void fetch(h+"/clients?cpf="+c).then((function(e){return e.json()})).then((function(e){console.log(e),e.ok&&a({name:e.name,cpf:e.cpf})}))},"Log In"))),l.a.createElement("br",null),l.a.createElement(i.b,{className:"button-geral",to:"cadastro"}," Sign Up"))}function x(e){var a=e.user,t=e.car,r=Object(n.useState)(),c=Object(m.a)(r,2),o=c[0],p=c[1],E=Object(n.useState)(0),v=Object(m.a)(E,2),j=v[0],_=v[1],C=Object(n.useState)(),O=Object(m.a)(C,2),k=O[0],x=O[1];function N(){return(N=Object(s.a)(u.a.mark((function e(){var n,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={cpf:a.cpf,plate:t.plate,number_of_days:o,park_pass:j},e.next=3,fetch(h+"/add_loan_by_get?cpf="+a.cpf+"&plate="+t.plate+"&park_pass="+j+"&number_of_days="+o+"&email_addr="+k+"&car_model="+t.model,{method:"GET",mode:"no-cors"});case 3:if(l=e.sent,console.log(l),1!==j){e.next=14;break}return e.prev=6,e.next=9,fetch(g+"/activate_localiza_car?api_key=9gi9phbqxlzzck3ruh9es2w2mwipzd&client_cpf="+a.cpf+"&client_name="+a.name+"&car_model="+t.model+"&car_plate="+t.plate,{method:"GET",mode:"no-cors"});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log("Park pass error");case 14:console.log(n),console.log(JSON.stringify(n));case 16:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement("p",null,"Aluguel"),t.model,l.a.createElement("br",null),l.a.createElement(d.a,null,l.a.createElement(d.a.Field,null,l.a.createElement(f.a,{placeholder:"Numero de dias",value:o,onChange:function(e){return p(e.target.value)}})),l.a.createElement("br",null),l.a.createElement(d.a.Field,null,l.a.createElement(f.a,{placeholder:"Email para boleto",value:k,onChange:function(e){return x(e.target.value)}})),l.a.createElement("br",null),l.a.createElement(d.a.Field,null,l.a.createElement(b.a,{label:"Deseja incluir o Park-Pass?",onChange:function(){_(0===j?1:0)}})),l.a.createElement(d.a.Field,null,l.a.createElement(i.b,{className:"button-geral",onClick:function(){return N.apply(this,arguments)},to:"/confirmed_loan"},"Confirmar"))),l.a.createElement("br",null))}function N(){return l.a.createElement("div",{className:"about"},l.a.createElement("h1",null,"Sobre"),l.a.createElement("p",null,"Somos uma empresa de aluguel de carros"))}function w(){return l.a.createElement("div",{className:"contact"},l.a.createElement("h1",null,"Contato Me"),l.a.createElement("p",null,"Email para contato: ",l.a.createElement("strong",null,"locadora.parkpass@gmail.com")))}function S(e){var a=e.user,t=e.setUser,r=Object(n.useState)({plate:"ABC12345",model:"Example"}),c=Object(m.a)(r,2),o=c[0],u=c[1];return l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/"},l.a.createElement(_,{setCar:u})),l.a.createElement(p.a,{exact:!0,path:"/about"},l.a.createElement(N,null)),l.a.createElement(p.a,{exact:!0,path:"/contact"},l.a.createElement(w,null)),l.a.createElement(p.a,{exact:!0,path:"/loan"},l.a.createElement(x,{user:a,car:o})),l.a.createElement(p.a,{exact:!0,path:"/confirmed_loan"},l.a.createElement(C,null)),l.a.createElement(p.a,{exact:!0,path:"/login"},l.a.createElement(k,{setUser:t})),l.a.createElement(p.a,{exact:!0,path:"/cadastro"},l.a.createElement(O,{setUser:t})))}var y=function(){var e=Object(n.useState)({name:"guest",cpf:123}),a=Object(m.a)(e,2),t=a[0],r=a[1];return l.a.createElement("div",{className:"app"},l.a.createElement("h1",null,"Locadora"),l.a.createElement(v,{user:t}),l.a.createElement(S,{user:t,setUser:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(i.a,null,l.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[181,1,2]]]);
//# sourceMappingURL=main.7eb69328.chunk.js.map